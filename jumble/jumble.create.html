


<!DOCTYPE html>
<html>
	<head>
		<title>Jumble royale-create-EzQuizzy</title>
		
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
		<link rel="icon" href="/favicon.ico" type="image/x-icon">

		<link rel="stylesheet" href = "style/style.create.css">
		<link rel="stylesheet" href="../global_style/style.global.css" >

		<script src="https://cdnjs.cloudflare.com/ajax/libs/eruda/2.4.1/eruda.min.js" integrity="sha512-RrQDQUon0OiQVjKQYkMuhtLgx8R/4niagIVdHltxcAJa1+cc8FJFFOhtLuK3YJAoo5mdfAFh98ZQwbDKJgFIpg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

		
		<script type="text/javascript">
			//eruda.init()
		</script>
		
		<script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
		<script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>	
	
	
		
	
	</head>
	
	<body>
        
		<form action="../create.success.html" >
			<h1>Jumble Royale</h1>
			<h3>Game options</h3>
			<label for="title" >title</label><br>
			<input name="title" id="title" type="text" required><br><br>
			
			<label for="words">words</label>
			<span class="tooltip">( format: word,word,etc...)  </span>
			<br>
			<input name="words" id="words" required  type="text"></input>
			
			<div>
			<br>
				<label>shuffle</label><br>
				
				<label for="shuffle">on</label>
				<input type="radio" value="true"  name="shuffle" id="s1">
				
				<label for="shuffle">off</label>
				<input type="radio" value="false"  name="shuffle" id="s0" checked>
			</div>
			
			<div >
				<label>difficulty</label>
				<span class="tooltip">( Time Requirments )</span><br>
				
				<label for="r1">ez (10/seconds)</label>
				<input name="difficulty" value="1"  type="radio" id="r1"  checked>
				
				<label for="r2">normal (7/seconds)</label>
				<input name="difficulty" value="2" type="radio" id="r2">

				<label for="r3">boss (5/seconds)</label>
				<input name="difficulty" value="3" type="radio" id="r3">
			</div>
			

			
			
			<h3>Player options</h3>
			
			<label for="hp">health</label>
			<span class="tooltip"></span>
			<br>
			<input name="hp" value="5"  id="hp" type="text"  required>
			<br><br>
			
			<label for="regen">regen</label>
			<span class="tooltip" >( how many time added to player after each round )</span><br>
			<input name="regen" value="5"  id="regen" type="text" required>
			
			<div id="btns"> 
				<input type="submit" ><input type="reset" >
			</div>
		</form>
		
		<script type="module">
			
    		import DB from  "../global_js/database.js"
			import generate_uc from "../global_js/generate_ucode.js"
			
			const submit_btn = document.querySelector("#btns input[type='submit']")
			const form = document.querySelector("form")
			const db = new DB
			
			
			submit_btn.onclick =submit
			
			
			async function submit(e){
				
				if(!form.checkValidity())return
				
				e.preventDefault()

				const fdata = new FormData(form)
				
				
				const code = generate_uc('HM-')
				fdata.append("code",code)
				
				
				await db.add_game(fdata)

				window.location = "../create.success.html?code=" + code
			}
			
		</script>
	</body>
</html>